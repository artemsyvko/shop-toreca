# パンくずブロックプラグイン(4.2系)

全ページ対応のパンくずブロックを生成するプラグインです。


## 機能概要

- 全ページ対応のパンくずブロックを生成
- 商品一覧/詳細 カテゴリ表示
- パンくずには各ページのリンクを設定
- パンくずの区切り文字のカスタマイズ


## 導入方法

- 当プラグインをインストール＆有効化してくだい。
- `管理画面` ＞ `コンテンツ管理` ＞ `レイアウト管理` からパンくずを表示したい箇所に `パンくず` ブロックを配置してください。


## フロント

- `パンくず` ブロックを配置したレイアウトを設定したページにパンくずが表示されます。
- パンくずに表示されるページ名は `管理画面` ＞ `コンテンツ管理` ＞ `ページ管理` で設定された `ページ名` になります。


## 管理画面

- `管理画面` ＞ `コンテンツ管理` ＞ `ブロック管理` で `パンくず` ブロックのテンプレートを編集できます。
- `管理画面` ＞ `コンテンツ管理` ＞ `レイアウト管理` からパンくずを表示したい箇所に `パンくず` ブロックを配置できます。


## カスタマイズ

### 区切り文字の変更
- パンくずの区切り文字を変更することができます。（HTML可）※デフォルトは `/` (スラッシュ)
- `管理画面` ＞ `コンテンツ管理` ＞ `ページ管理` で設定された `ページ名` に含まれる `/` (スラッシュ) は区切り文字として認識され、カスタマイズの変更対象になります。
#### 変更箇所
`${ECCUBE_ROOT}/app/template/${ECCUBE_TEMPLATE_CODE}/Block/RefineBreadcrumbsBlock42.twig`
4行目

デフォルト
```
{% set RefineBreadcrumbsBlockSplit = '/' %}
```

カスタマイズ例：
```
{% set RefineBreadcrumbsBlockSplit = '▶' %}
```

カスタマイズ例：
```
{% set RefineBreadcrumbsBlockSplit = '<img src="https://placehold.jp/150x150.png">' %}
```


## ステータス変更時の処理

### インストール時
- なし
### アップデート時
- なし
### 有効化時
- `パンくず` ブロックの作成
- テンプレートのコピー
    - コピー元：`${ECCUBE_ROOT}/app/Plugin/RefineBreadcrumbsBlock42/Resource/template/refine_breadcrumbs_block42.twig`
    - コピー先：`${ECCUBE_ROOT}/app/template/${ECCUBE_TEMPLATE_CODE}/Block/RefineBreadcrumbsBlock42.twig`
### 無効化時
- `パンくず` ブロックの削除（コピーされたテンプレートは削除されずに残ります。）
### アンインストール時
- なし
